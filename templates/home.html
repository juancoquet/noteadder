{% extends 'base.html' %}
{% load static %}

{% block content %}

  <div class="note-group">
    <div class="draggable note-block quarter-note" value="1" draggable="true" vf-duration="q" tonejs-duration="4n"dotted="false" note-color="blue">4</div>
    <div class="draggable note-block quarter-note rest" value="1" draggable="true" vf-duration="qr" tonejs-duration="4n" dotted="false" note-color="blue">4r</div>
  </div>
  <div class="note-group">
    <div class="draggable note-block eighth-note" value="0.5" draggable="true" vf-duration="8" tonejs-duration="8n" dotted="false" note-color="purple">8</div>
    <div class="draggable note-block eighth-note rest" value="0.5" draggable="true" vf-duration="8r" tonejs-duration="8n" dotted="false"  note-color="purple">8r</div>
  </div>
  <div class="note-group">
    <div class="draggable note-block sixteenth-note" value="0.25" draggable="true" vf-duration="16" tonejs-duration="16n" dotted="false"  note-color="red">16</div>
    <div class="draggable note-block sixteenth-note rest" value="0.25" draggable="true"  vf-duration="16r" tonejs-duration="16n" dotted="false" note-color="red">16r</div>
  </div>
  <input class="dot-toggle" type="checkbox" name="dotted" label="dotted?">

  <div class="count count--2 hidden">
        <p class="count__item count__item--1">1</p>
        <p class="count__item count__item--2">2</p>
  </div>
  <div class="count count--3 hidden">
        <p class="count__item count__item--1">1</p>
        <p class="count__item count__item--2">2</p>
        <p class="count__item count__item--3">3</p>
  </div>
  <div class="count count--4">
        <p class="count__item count__item--1">1</p>
        <p class="count__item count__item--2">2</p>
        <p class="count__item count__item--3">3</p>
        <p class="count__item count__item--4">4</p>
  </div>
  <div class="count count--5 hidden">
        <p class="count__item count__item--1">1</p>
        <p class="count__item count__item--2">2</p>
        <p class="count__item count__item--3">3</p>
        <p class="count__item count__item--4">4</p>
        <p class="count__item count__item--5">5</p>
  </div>
  <div class="count count--6 hidden">
        <p class="count__item count__item--1">1</p>
        <p class="count__item count__item--2">2</p>
        <p class="count__item count__item--3">3</p>
        <p class="count__item count__item--4">4</p>
        <p class="count__item count__item--5">5</p>
        <p class="count__item count__item--6">6</p>
  </div>
  <div class="count count--7 hidden">
        <p class="count__item count__item--1">1</p>
        <p class="count__item count__item--2">2</p>
        <p class="count__item count__item--3">3</p>
        <p class="count__item count__item--4">4</p>
        <p class="count__item count__item--5">5</p>
        <p class="count__item count__item--6">6</p>
        <p class="count__item count__item--7">7</p>
  </div>

  <div class="bar-container" value="4" absolute-value="4" time-sig="4/4"></div>
  <div class="bin">Bin</div>

  <div id="notation-container" class="notation"></div>
  <div class="playback-marker playback-marker--notation"></div>
  <div class="playback-marker playback-marker--bar"></div>

  <span id="help-button" class="material-icons">help_outline</span>

  <button class="time-signature" top="2" bottom="4" bottom-value="1" signature="2/4">2/4</button>
  <button class="time-signature" top="3" bottom="4" bottom-value="1" signature="3/4">3/4</button>
  <button class="time-signature pressed" top="4" bottom="4" bottom-value="1" signature="4/4">4/4</button>
  <button class="time-signature" top="5" bottom="4" bottom-value="1" signature="5/4">5/4</button>
  <button class="time-signature" top="6" bottom="4" bottom-value="1" signature="6/4">6/4</button>
  <button class="time-signature" top="5" bottom="8" bottom-value="0.5" signature="5/8">5/8</button>
  <button class="time-signature" top="6" bottom="8" bottom-value="0.5" signature="6/8">6/8</button>
  <button class="time-signature" top="7" bottom="8" bottom-value="0.5" signature="7/8">7/8</button>

  <div class="bpm-value">120</div>
  <input type="range" min="70" max="180" value="120" class="bpm-slider">

  <button class="play">Play</button>


  <div class="overlay overlay--help hidden">
      <div id="help" class="card">
            <span class="material-icons modal-close">highlight_off</span>
            <h2>Help</h2>
            <p>Note Adder helps you to visualise and understand musical note values.</p>
            <p>The coloured blocks at the top represent quarter notes, eighth notes and sixteenth notes (and their respective rests). The box below the note blocks represents a bar of music which you can drag the note blocks into to create a musical phrase.</p>
            <p>As you build a musical phrase using the note blocks, you'll see the notation updated in the stave below.</p>
            <p>You can use the control panel at the bottom to play back the phrase, adjust the playback tempo and choose a different time signature.</p>
            <p>If you are new to music, try going through the <a href="{% url 'learn' %}">learn section</a> to learn about rhythmic musical notation.</p>
      </div>
  </div>

  <script src="{% static '/js/drag.js' %}" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.26/Tone.min.js"></script>
  <script src="{% static '/js/time-signatures.js' %}" defer></script>
  <script src="{% static '/js/shared_bundle.js' %}" type="module" defer></script>
  <script src="{% static '/js/notation_bundle.js' %}" type="module" defer></script>
  <script src="{% static '/js/playback/playback.js' %}"></script>
  <script src="{% static '/js/bpm.js' %}"></script>
  <script src="{% static '/js/modal.js' %}"></script>
{% endblock content %}
